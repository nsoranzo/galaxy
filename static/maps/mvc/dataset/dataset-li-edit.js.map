{"version":3,"file":"dataset-li-edit.js","sources":["../../../src/mvc/dataset/dataset-li-edit.js"],"names":["define","STATES","DATASET_LI","TAGS","ANNOTATIONS","faIconButton","BASE_MVC","_l","_super","DatasetListItemView","DatasetListItemEdit","extend","initialize","attributes","prototype","call","this","hasUser","purgeAllowed","tagsEditorShown","annotationEditorShown","_renderPrimaryActions","actions","model","get","NOT_VIEWABLE","concat","_renderEditButton","_renderDeleteButton","DISCARDED","purged","deleted","editBtnData","title","href","urls","edit","target","linkTarget","faIcon","classes","disabled","_","contains","UPLOAD","NEW","self","deletedAlready","isDeletedOrPurged","onclick","$el","find","trigger","_renderDetails","$details","state","OK","FAILED_METADATA","_renderTags","_renderAnnotation","_makeDbkeyEditLink","_setUpBehaviors","_renderToolHelpButton","datasetID","dataset_id","jobID","creating_job","parseToolBuild","data","helpString","name","help","append","$","parseHTML","parseToolID","ajax","url","Galaxy","root","tool_id","done","fail","user","id","length","toggle","console","log","_renderSecondaryActions","ERROR","unshift","_renderErrButton","_renderRerunButton","_renderVisualizationsButton","report_error","rerun","ev","preventDefault","router","push","job_id","visualizations","hasData","isEmpty","isObject","warn","$visualizations","templates","attr","_addScratchBookFn","addBack","$links","click","frame","active","add","stopPropagation","$where","view","tagsEditor","TagsEditor","el","onshowFirstTime","render","onshow","onhide","$activator","appendTo","annotationEditor","AnnotationEditor","editableDbkey","replaceWith","events","clone","click .undelete-link","click .purge-link","click .edit-btn","click .delete-btn","click .rerun-btn","click .report-err-btn","click .visualization-btn","click .dbkey a","_clickUndeleteLink","undelete","_clickPurgeLink","confirm","purge","toString","modelString","warnings","failed_metadata","wrapTemplate","visualizationsTemplate"],"mappings":"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"}